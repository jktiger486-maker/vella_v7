# CODEGEN-11 : REAL MARKET DATA ADAPTER (READ-ONLY)

## ëª©ì 
ì´ ë¬¸ì„œëŠ” VELLA_V7ì˜ **ì‹œì¥ ë°ì´í„° ì–´ëŒ‘í„°**ë¥¼ ì •ì˜í•œë‹¤.

ì›ì¹™:
- ê±°ë˜ âŒ
- ì£¼ë¬¸ âŒ
- ì „ëµ âŒ
- íŒë‹¨ âŒ

ì˜¤ì§ **ë°ì´í„° ìˆ˜ì§‘ â†’ í‘œì¤€ ìºë¦¬ì–´ë¡œ ì „ë‹¬**ë§Œ í•œë‹¤.


============================================================
## 0. ìƒì„± ëŒ€ìƒ íŒŒì¼
============================================================

vella_v7/adapters/market_data.py


- PIT-3, PIT-5, PIT-6 ì¤€ìˆ˜
- ìˆ˜ë™ ìˆ˜ì • âŒ (ë¬¸ì„œ ë³€ê²½ í›„ ì¬ìƒì„±ë§Œ í—ˆìš©)


============================================================
## 1. ì„¤ê³„ ìš”ì•½ (ì£¼ì¸ë‹˜ í™•ì¸ìš©)
============================================================

- ì™¸ë¶€ ì†ŒìŠ¤ëŠ” **ì½ê¸° ì „ìš©**
- ì‹¤íŒ¨ ì‹œ ì˜ˆì™¸ âŒ (None ë°˜í™˜)
- ë°ì´í„°ëŠ” ê°€ê³µ âŒ
- ContextëŠ” í•´ì„ âŒ

ğŸ‘‰ AdapterëŠ” **íŒŒì´í”„**ë‹¤. í•„í„°ê°€ ì•„ë‹ˆë‹¤.


============================================================
## 2. í‘œì¤€ MarketData ìºë¦¬ì–´
============================================================

```python
from dataclasses import dataclass

@dataclass(frozen=True)
class MarketData:
    ts: int
    price: float
    volume: float
    volatility: float
    liquidity: float


ì´ êµ¬ì¡°ëŠ” ì—”ì§„ ë‚´ë¶€ í‘œì¤€

ContextëŠ” ì´ ìºë¦¬ì–´ë§Œ ë³¸ë‹¤

============================================================

3. market_data.py (FULL CONTENT)

============================================================

# ============================================================
# AUTO-GENERATED FILE â€” DO NOT EDIT MANUALLY
# SOURCE OF TRUTH: PIT-6
# ============================================================

from dataclasses import dataclass
from typing import Optional
import time

# NOTE:
# External libraries (exchange SDKs) are intentionally omitted.
# This adapter is READ-ONLY and SAFE.


@dataclass(frozen=True)
class MarketData:
    ts: int
    price: float
    volume: float
    volatility: float
    liquidity: float


class MarketDataAdapter:
    """
    Read-only market data adapter.

    Rules:
    - No trading
    - No retries
    - No side effects
    """

    def fetch(self) -> Optional[MarketData]:
        """
        Fetch latest market data snapshot.

        Returns:
        - MarketData on success
        - None on failure
        """

        # ----------------------------------------------------
        # Placeholder implementation
        # ----------------------------------------------------
        # Replace this block ONLY by regenerating from PIT
        # when real data source is approved.

        now = int(time.time())

        return MarketData(
            ts=now,
            price=0.0,
            volume=0.0,
            volatility=0.0,
            liquidity=0.0,
        )


============================================================

4. main.py ì—°ë™ ê·œì¹™

============================================================

main_loopì—ì„œ:

Adapter.fetch() í˜¸ì¶œ

Noneì´ë©´ ì‚¬ì´í´ ìŠ¤í‚µ

ê°’ ìˆìœ¼ë©´ Orchestratorë¡œ ì „ë‹¬

ì˜ˆ:

data = adapter.fetch()
if data is None:
    continue
state = orchestrator.run_cycle(data, state)


â€» íŒë‹¨ ì•„ë‹˜. ì•ˆì „ ê°€ë“œë‹¤.

============================================================

5. ì˜ë„ì  ì œì•½ (ì¤‘ìš”)

============================================================

Binance SDK âŒ

REST í˜¸ì¶œ âŒ

WebSocket âŒ

rate limit ì²˜ë¦¬ âŒ

ì‹¤ë°ì´í„° ì—°ê²°ì€ ë‹¤ìŒ ë‹¨ê³„ë‹¤.

============================================================

6. ì‹¤íŒ¨ ë°©ì§€ ì²´í¬ë¦¬ìŠ¤íŠ¸

============================================================

ì•„ë˜ê°€ ë³´ì´ë©´ ì¦‰ì‹œ ìœ„ë°˜ì´ë‹¤.

api_key

secret

order

position

retry / backoff

ì „ë¶€ ì‚­ì œ.

============================================================

7. ìµœì¢… ì„ ì–¸

============================================================

ì´ì œ V7ì€ â€œí˜„ì‹¤ì„ ë³¼ ìˆ˜ ìˆë‹¤â€

ì•„ì§ â€œì†ëŒ€ì§€ ì•ŠëŠ”ë‹¤â€

ê´€ì¸¡ â†’ íŒë‹¨ â†’ ì‹¤í–‰ì˜ ë¶„ë¦¬ê°€ ì™„ì„±ë˜ì—ˆë‹¤

==============================

## í˜„ì¬ ìœ„ì¹˜ ìš”ì•½ (ì¤‘ìš”)
- **ì—”ì§„ êµ¬ì¡°**: ê³ ì •
- **ì‹¤í–‰ ë£¨í”„**: ë™ì‘
- **ì‹œì¥ ë°ì´í„°**: ì½ê¸° ì „ìš© ì£¼ì… ì™„ë£Œ
- **ê±°ë˜**: 0%
