# CODEGEN_23_BOOTSTRAP/MAIN v1(WIRE & RUN)

## ëª©ì 
ì´ ë¬¸ì„œëŠ” VELLA_V7ì˜ **ë‹¨ì¼ ì§„ì…ì (main)** ì„ ì •ì˜í•œë‹¤.

ì›ì¹™:
- íŒë‹¨ âŒ
- ì „ëµ âŒ
- ê³„ì‚° âŒ
- ì˜¤ì§ **êµ¬ì„±(ì¡°ë¦½) + ì‹¤í–‰(start)** ë§Œ ìˆ˜í–‰

ğŸ‘‰ `python -m vella_v7.main` ìœ¼ë¡œ ì—”ì§„ì´ ì¼œì§„ë‹¤.


============================================================
## 0. ë³€ê²½ ëŒ€ìƒ
============================================================

vella_v7/main.py


- CODEGEN-19 (Orchestrator)
- CODEGEN-20 (Runner)
- CODEGEN-21 (Logger, ì„ íƒì )
- CODEGEN-22 (Exchange Adapter)
- ì–´ë–¤ ëª¨ë“ˆ ë¡œì§ë„ ìˆ˜ì • âŒ


============================================================
## 1. ì‹¤í–‰ ì‹œë‚˜ë¦¬ì˜¤ (ì£¼ì¸ë‹˜ í™•ì¸ìš©)
============================================================

1. ì´ˆê¸° State ìƒì„±
2. Exchange Adapter ì„ íƒ (Mock / Binance)
3. Orchestrator ìƒì„±
4. Runner ìƒì„±
5. Runner.start()

âš ï¸ ë¶„ê¸°/íŒë‹¨ ì—†ìŒ, í™˜ê²½ë³€ìˆ˜ë¡œë§Œ ì„ íƒ


============================================================
## 2. í™˜ê²½ë³€ìˆ˜ ê·œì•½
============================================================

VELLA_ENV=mock | binance
TICK_SECONDS=1.0


- ê¸°ë³¸ê°’: mock
- ì‹¤ë§¤ë§¤: binance


============================================================
## 3. main.py (FULL CONTENT)
============================================================

```python
# ============================================================
# VELLA_V7 â€” MAIN ENTRYPOINT
# AUTO-GENERATED FILE â€” DO NOT EDIT MANUALLY
# SOURCE OF TRUTH: PIT-0, CODEGEN-23
# ============================================================

import os

from vella_v7.contracts.contracts import EngineState

from vella_v7.adapters.exchange.mock import MockExchangeAdapter
from vella_v7.adapters.exchange.binance import BinanceExchangeAdapter

from vella_v7.orchestrator.orchestrator import Orchestrator
from vella_v7.runner.runner import Runner


def _build_exchange():
    env = os.getenv("VELLA_ENV", "mock").lower()

    if env == "binance":
        return BinanceExchangeAdapter()

    # default
    return MockExchangeAdapter()


def main() -> None:
    # --------------------------------------------------------
    # 1. Initial Engine State
    # --------------------------------------------------------
    initial_state = EngineState.initial()

    # --------------------------------------------------------
    # 2. Exchange Adapter
    # --------------------------------------------------------
    exchange = _build_exchange()

    # --------------------------------------------------------
    # 3. Orchestrator
    # --------------------------------------------------------
    orchestrator = Orchestrator(
        initial_state=initial_state,
        exchange=exchange,
    )

    # --------------------------------------------------------
    # 4. Runner
    # --------------------------------------------------------
    tick = float(os.getenv("TICK_SECONDS", "1.0"))
    runner = Runner(
        orchestrator=orchestrator,
        tick_seconds=tick,
    )

    # --------------------------------------------------------
    # 5. Start Engine
    # --------------------------------------------------------
    runner.start()


if __name__ == "__main__":
    main()


============================================================

4. ì˜ë„ì  ì œì•½ (ì¤‘ìš”)

============================================================

try/except ì „ëµ ì²˜ë¦¬ âŒ

ì‹ í˜¸/ìƒíƒœ ì ‘ê·¼ âŒ

ë¡œê¹… íŒë‹¨ âŒ

í…ŒìŠ¤íŠ¸ ì½”ë“œ âŒ

mainì€ ë°°ì„ ë„ë‹¤.

============================================================

5. ì‹¤íŒ¨ ë°©ì§€ ì²´í¬ë¦¬ìŠ¤íŠ¸

============================================================

ì•„ë˜ê°€ ë³´ì´ë©´ ì¦‰ì‹œ ìœ„ë°˜ì´ë‹¤.

if entry_signal

if has_position

exchange.submit_order ì§ì ‘ í˜¸ì¶œ

while True (Runner ì™¸ë¶€)

ğŸ‘‰ ì „ë¶€ êµ¬ì¡° ë¶•ê´´

============================================================

6. ìµœì¢… ì„ ì–¸ (END)

============================================================

VELLA_V7ì€ ì™„ì „ ë¶„ë¦¬ ì—”ì§„ì´ë‹¤

PIT â†’ CODEGEN â†’ ì‹¤í–‰ ë£¨íŠ¸ê°€ ë´‰ì¸ë˜ì—ˆë‹¤

V3/V4/V5ì˜ ëª¨ë“  í˜¼ì„ ì´ êµ¬ì¡°ì ìœ¼ë¡œ ì œê±°ë˜ì—ˆë‹¤

ğŸ‰ VELLA_V7 1ì°¨ ì™„ì„±

### ìµœì¢… ìš”ì•½ (í•œ ì¤„)
**ì´ì œ VELLA_V7ì€ â€œì„¤ê³„ â†’ ìƒì„± â†’ ì‹¤í–‰â€ì´ ëª¨ë‘ ì ê²¼ë‹¤.**
